import{S as t,F as s,P as e,W as i,B as n,i as o,j as a,k as r}from"./three.7b25054d.js";import{d as h,c}from"./tools.f4cfa2c9.js";import"./index.0851d2b1.js";import{t as l,r as p}from"./index.6898e09e.js";const f=[55,0],m=[5,7],d=2e4,u=14608359,g=1/1e3;function w(t){return 30/t-5}var M=h((h=>{const l=new t;l.fog=new s(0,.03);const p=new e(75,1,.1,1e3),f=new i({canvas:h,antialias:!0}),m=new n;m.setAttribute("position",new o(new Array(3*d).fill(0),3)),l.add(new a(m,new r({color:u,size:.1})));const w=[new b];let M=0;p.position.set(0,10,25),p.lookAt(0,0,0);const j=()=>f.render(l,p);return{animate:(t,s)=>{const e=.001*t;w.length<=d&&function(t){M+=t;let s=~~(M/g);for(M-=s*g;s>0&&w.length<=d;)w.push(new b),s--}(e);const{array:i}=m.attributes.position;w.forEach(((t,s)=>{t.update(e);const n=t.position;[i[3*s],i[3*s+1],i[3*s+2]]=n})),m.setDrawRange(0,w.length),m.attributes.position.needsUpdate=!0,function(t){const s=.001*t*.1;p.position.set(5,20*Math.sin(s),20*Math.cos(s)),p.lookAt(0,0,0)}(s),j()},setSize:c({render:j,renderer:f,camera:p})}}));class b{constructor(){this.progress=0,this.time=0,this.lifeTime=l(m,p()),this.angle=p(2*Math.PI),this.cos=Math.cos(this.angle),this.sin=Math.sin(this.angle)}update(t){var s;this.time=(this.time+t)%this.lifeTime,this.progress=(s=this.time/this.lifeTime,Math.sqrt(s))}get position(){const t=l(f,this.progress);return[this.cos*t,w(t),this.sin*t]}}export default M;
