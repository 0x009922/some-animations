import{f as s,m as t,r as e,i as r,e as a,p as n,n as o,o as i,c as h,a as c,v as g}from"./index.0851d2b1.js";import{C as l}from"./CanvasScene.fe4e3f71.js";import{a as d}from"./index.6898e09e.js";class p extends l{constructor(s){super(s),this.fragments=[new u],s.style.background=d(f,f,f)}render(s){const t=.001*s;for(this.fragments.forEach((s=>s.update(t))),this.fragments[0].getProgress()>=m&&this.fragments.unshift(new u);this.fragments.length-2>=0&&this.fragments[this.fragments.length-2].getProgress()>=1+m;)this.fragments.pop();const{width:e,height:r}=this.canvas;this.context.clearRect(0,0,e,r),this.fragments.forEach((s=>s.draw(this.context,[e/2,r/2])))}}const f=240,m=.14;class u{constructor(){this.progress=0}update(s){return this.progress+=s/5,this.progress}getProgress(){return this.progress}draw(s,t){s.fillStyle=this.getColor(),s.beginPath();let e=(this.progress-.1)/.9;e**=.9,this.progress<=.1&&(e=0);let r=e**.8*-220+350;r=r<0?0:r;for(let a=0,n=3*-Math.PI/4+.35*e;a<4;a++,n+=Math.PI/2){const e=[t[0]+r*Math.cos(n),t[1]+r*Math.sin(n)];(a?s.lineTo:s.moveTo).apply(s,[e[0],e[1]])}s.closePath(),s.fill()}getColor(){let s=this.progress/(1-m);s=s<0?0:s>1?1:s;const t=Math.round(s*(40-f))+f;return d(t,t,t)}}var v=s({name:"AnimationFade",setup(){const{setLoop:s,dropLoop:n}=t(),o=e(null);return r((()=>{const t=new p(o.value);s(t.render.bind(t))})),a((()=>{n()})),{canvas:o}}});const w=g();n("data-v-359663de");const P={class:"fade-layout"},x={class:"canvas-wrapper"},M={ref:"canvas",width:"1000",height:"1000"};o();const b=w(((s,t,e,r,a,n)=>(i(),h("div",P,[c("div",x,[c("canvas",M,null,512)])]))));v.render=b,v.__scopeId="data-v-359663de";export default v;
