import{S as e,P as t,W as i,x as s,t as n,M as o,b as a}from"./three.7b25054d.js";import{L as l}from"./LegacyThreeAnimation.99f7bac8.js";class r extends l{constructor(n){super(),this.fixed=null,this.menlo=null,this.block=null,this.scene=new e,this.camera=new t(75,1,.1,1e3),this.renderer=new i({canvas:n,antialias:!0});const o=new s;o.load("fonts/Fixed_Medium.json",(e=>{this.fixed=e,this.initTextIfReady()}),(()=>{}),console.error),o.load("fonts/Menlo_Regular.json",(e=>{this.menlo=e,this.initTextIfReady()}),(()=>{}),console.error),this.camera.position.set(3,-1,10),this.camera.lookAt(1,-1,0)}animate(e,t){const i=.001*t;this.updateBlockVisibility(i),this.render()}updateBlockVisibility(e){this.block&&(this.block.visible=e%1<.5)}initTextIfReady(){this.fixed&&this.menlo&&this.initText()}initText(){const e=new n(this.fixed.generateShapes("Do you want to talk?",.5));e.computeBoundingBox();const t=new o({color:2003199}),i=new a(e,t);this.scene.add(i);const s=new n(this.menlo.generateShapes("â–ˆ",.45));this.block=new a(s,t),this.block.position.set(i.geometry.boundingBox.max.x,0,0),this.scene.add(this.block)}}export default e=>{const t=new r(e);return{setSize:t.setSize.bind(t),animate:t.animate.bind(t)}};
