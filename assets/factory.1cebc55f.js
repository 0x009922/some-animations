import{Q as t,c as s,S as e,u as r,P as a,W as n,B as i,C as o,i as h,k as c,j as d}from"./three.7b25054d.js";import{c as m}from"./tools.f4cfa2c9.js";import"./index.0851d2b1.js";import{t as u}from"./index.6898e09e.js";class w{constructor(e){this.vre=u(.2,1.7,e),this.vae=function(t){return u(.7,1,t)}(e),this.a=Math.random()*Math.PI*2,this.r=1e3*Math.random()*5,this.vr=0,this.va=1,this.energy=e,this.quaternion=new t;const r=Math.PI/2*.5+(2*Math.random()-1)*Math.PI/10;this.quaternion.setFromAxisAngle(new s(1,0,0),r)}coords(){const t=new s(this.r*Math.cos(this.a),this.r*Math.sin(this.a),0);return t.applyQuaternion(this.quaternion),[t.x,t.y,t.z]}rgb(){return new Array(3).fill(this.energy)}animate(t){const s=this.r**1.1*.3;this.vr=-Math.max(s,10),this.r+=this.vr*t*this.vre,this.a+=this.va*t*this.vae,this.r<=15&&this.reset()}reset(){this.a=Math.random()*Math.PI*2,this.r=1e3,this.vr=0,this.va=1}}const p=[3119041,2799562,16670549,448160,16369678];export default t=>{const s=new e;s.fog=new r(0,600,1e3);const u=new a,f=new n({canvas:t}),l=Array(5e3).fill(0).map(((t,s)=>new w(s/5e3))),v=new i,M=[],b=[];l.forEach(((t,s)=>{M.push(...t.coords());const e=new o(p[s%p.length]);b.push(e.r,e.g,e.b)})),v.setAttribute("position",new h(M,3)),v.setAttribute("color",new h(b,3));const g=new c({size:3,color:16777215}),y=new d(v,g);s.add(y),u.position.set(0,0,600);const x=()=>f.render(s,u);return{animate:t=>{const s=.001*t,{position:e}=v.attributes;l.forEach(((t,r)=>{t.animate(s),t.coords().forEach(((t,s)=>{e.array[3*r+s]=t}))})),e.needsUpdate=!0,x()},setSize:m({render:x,renderer:f,camera:u})}};
